# SPDX-FileCopyrightText: 2024 Deutsche Telekom AG
#
# SPDX-License-Identifier: CC0-1.0
[project]
name = "wurzel"
dynamic = ["version"]
description = ""
authors = [{name ="Thomas Weigel", email="thomas.weigel@telekom.de"},
            {name ="Paul Bauriegel", email="paul.bauriegel@telekom.de"},
            {name ="Maximilian Erren", email="maximilian.erren@telekom.de"}]
readme = "README.md"
requires-python = ">= 3.10"
dependencies= [
    "de_core_news_sm @ https://github.com/explosion/spacy-models/releases/download/de_core_news_sm-3.7.0/de_core_news_sm-3.7.0-py3-none-any.whl",
    "tqdm==4.66.5",
    "pandas==2.2.2",
    "numpy < 2.0.0",
    "dvc==3.53.1",
    "Markdown==3.6",
    "pydantic-settings==2.5.2",
    "pydantic>=2.6.4, == 2.*",
    "asgi-correlation-id>=4.3.1, == 4.*",
    "langchain-core>=0.2.0",
    "prometheus-client==0.21.1",
    "mistletoe==1.4.0",
    "pandera==0.20.3",
    "mdformat==0.7.17",
    "spacy==3.7.5",
    "tiktoken==0.7.0",
    "joblib>=1.4.0"
    #
]

[project.optional-dependencies]
qdrant = ["qdrant-client==1.10.1"]
milvus = [
    "pymilvus==2.4.4",
]
lint = [
    "pylint==3.3.4",
    "pylint-json2html==0.5.0",
    "pre-commit==4.1.*",
]
test = [
    "pytest==8.*",
    "pytest-asyncio==0.23.*",
    "pytest-cov==4.*",
    "pytest-html==4.*",
    "pytest_env==1.*",
    "pytest-xdist==3.*",
    "pytest-mock==3.*",
    "requests-mock==1.*",
    "milvus==2.*", # used for miluvs mock
]


dev = ["wurzel[lint,test,qdrant,milvus]"]
[build-system]
requires = ["setuptools", "wheel"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages.find]
include = ["wurzel*"]
namespaces = false

[tool.mypy]
python_version = "3.11"
disable_error_code = ["import-untyped"]

[tool.setuptools.dynamic]
version = {file = "VERSION"}
[project.scripts]
wurzel = "wurzel.cli._main:main"
